{% extends '::base.html.twig' %}

{% block body -%}
    <!--<h1>Reservation list</h1>

    <table class="records_list">
        <thead>
            <tr>
                <th>Nbrplace</th>
                <th>Commentaireres</th>
                <th>Statusres</th>
                <th>Id</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
    {% for entity in entities %}
        <tr>
            <td><a href="{{ path('reservation_show', { 'id': entity.id }) }}">{{ entity.nbrPlace }}</a></td>
            <td>{{ entity.commentaireRes }}</td>
            <td>{{ entity.statusRes }}</td>
            <td>{{ entity.id }}</td>
            <td>
            <ul>
                <li>
                    <a href="{{ path('reservation_show', { 'id': entity.id }) }}">show</a>
                </li>
                <li>
                    <a href="{{ path('reservation_edit', { 'id': entity.id }) }}">edit</a>
                </li>
            </ul>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

    <ul>
    <li>
        <a href="{{ path('reservation_new') }}">
            Create a new entry
        </a>
    </li>
</ul>-->
    <header class="header">

        <div class="top-menu">

            <section class="container">
                <div class="row">

                    <div class="col-md-4 col-sm-4 col-xs-12">
                        <div class="user-log">

                            <a data-toggle="modal" data-target="#loginModal">
                                Log in
                            </a> /
                            <a data-toggle="modal" data-target="#regModal">
                                Sign up
                            </a>

                        </div><!-- end .user-log -->
                    </div><!-- end .col-sm-4 -->

                  

                </div><!-- end .row -->
            </section><!-- end .container -->

        </div><!-- end .top-menu -->

        <div class="main-baner">

            <div class="background parallax clearfix" style="background-image:url({{ asset('img/tumblr_n7yhhvUQtx1st5lhmo1_1280.jpg') }});" data-img-width="1600" data-img-height="1064">

                <div class="main-parallax-content">

                    <div class="second-parallax-content">

                        <section class="container">

                            <div class="row">

                                <div class="main-header-container clearfix">

                                    <div class="col-md-4 col-sm-12 col-xs-12">

                                        <div class="logo">
                                            <h1>Carpool.Tn</h1>
                                        </div><!-- end .logo -->

                                    </div><!-- end .col-sm-4 -->

                                    {% if  app.user!=null %}
                                    
                                    
                                    <div class="col-md-8 col-sm-8 col-xs-12"   style="padding-left:20px;">

                                        <nav id="nav" class="main-navigation" style="padding-left:60px;">

                                            <ul class="navigation">
                                                <li>
                                                    <a href={{ path('index') }}>Home</a>
                                                </li>
                                                <li>
                                                    <a href="{{ path('reservation') }}">Your Reservation</a>
                                                </li>

                                                <li>
                                                    <a>Announcement</a>
                                                    <ul class="sub-menu">
                                                        <li>
                                                            <a href="{{ path('annonce_new') }}">New Announcement</a>
                                                        </li>
                                                        <li>
                                                            <a href="{{ path('annonceUser') }}">Your Announcement</a>
                                                        </li>

                                                    </ul>
                                                </li>

                                              
                                            </ul>

                                        </nav><!-- end .main-navigation -->

                                    </div><!-- end .col-md-8 -->
                                    
                                     {% endif %}  
                                    
                                </div><!-- end .row -->

                        </section><!-- end .container -->

                    </div><!-- end .second-parallax-content -->





                </div><!-- end .main-parallax-content -->

            </div><!-- end .background .parallax -->

        </div><!-- end .main-baner -->

    </header><!-- end .header -->

    <section class="main-content">

        <div class="container">
            <div class="row">

                <div class="col-md-12 col-sm-12 col-xs-12">

                    <div class="page-sub-title textcenter">
                        <h2>Your Reservation</h2>
                        <div class="line"></div>
                    </div><!-- end .page-sub-title -->

                </div><!-- end .col-md-12 col-sm-12 col-xs-12 -->

                <div class="col-md-12 col-sm-12 col-xs-12">

                    <div class="page-content">

                        <div class="rides-list">

                            {% for entity in entities %}



                                <article class="ride-box clearfix"  >


                                    <div class="ride-content" >
                                        <h4><a href="#">From: </a>{{ entity.getIdAnnonce.getVilleDepString }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
                                            <a href="#">To: </a>{{ entity.getIdAnnonce.getVilleArrString }}  </h4>
                                        <h4><a href="#" >Annoncment By: </a>{{ entity.getIdAnnonce.idUtilisateur.username }}  </h4>
                                        <h4><a href="#" >Phone Number: </a>{{ entity.getIdAnnonce.idUtilisateur.getTel }}  </h4>
                                        <h4><a href="#" >E-mail: </a>{{ entity.getIdAnnonce.idUtilisateur.getEmail }}  </h4> 
                                    </div>

                                    <ul class="ride-meta"  style="padding-top:40px;">



                                        <li class="ride-people">
                                            <h3>
                                                <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">
                                                    <i class="fa fa-calendar"></i>
                                                    {{entity.getIdAnnonce.dateDep}}
                                                </a>
                                            </h3>
                                        </li><!-- end .ride-people -->

                                        <li class="ride-people">
                                            <h3>
                                                <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">
                                                    <i class="fa fa-car"></i>
                                                    {{entity.getIdAnnonce.marqueVoiture}}
                                                </a>
                                            </h3>
                                        </li><!-- end .ride-people -->

                                        <li class="ride-people">
                                            <h3>
                                                <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">
                                                    <i class="fa fa-user"></i>
                                                    {{entity.getNbrPlace}}
                                                </a>
                                            </h3>
                                        </li><!-- end .ride-people -->
                                        <li class="ride-people">
                                            <h3>
                                                <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">
                                                    <i class="fa fa-dollar"></i>
                                                    {{entity.getIdAnnonce.prixPlace}}
                                                </a>
                                            </h3>
                                        </li><!-- end .ride-people -->
                                        {% if entity.getStatusRes=="yes" %}
                                            <li class="ride-people">
                                                <h3>
                                                    <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">
                                                        <i class="fa fa-check" aria-hidden="true"></i>
                                                        confirmed
                                                    </a>
                                                </h3>
                                            </li><!-- end .ride-people -->
                                        {% endif %}
                                        {% if entity.getStatusRes=="no" %}
                                            <li class="ride-people">
                                                <h3>
                                                    <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">
                                                        <i class="fa fa-times" aria-hidden="true"></i>
                                                        Not confirmed
                                                    </a>
                                                </h3>
                                            </li><!-- end .ride-people -->
                                        {% endif %}
                                        {% if entity.getStatusRes=="non confirmer" %}
                                            <li class="ride-people">
                                                <h3>
                                                    <a  class="tooltip-link" data-original-title="Number of seats" data-toggle="tooltip">

                                                        <i class="fa fa-refresh fa-spin "></i>
                                                        <span class="sr-only">Loading...</span>
                                                        Waiting
                                                    </a>
                                                </h3>
                                            </li><!-- end .ride-people -->
                                        {% endif %}


                                    </ul><!-- end .ride-meta -->
                                    {% if entity.getIdAnnonce.dateDep|date('Y-m-d') < date() and   entity.getStatusRes=="yes" and  entity.note==0 %}
                                        <article class="rating" style="font-size: 2em; padding-right:5px; color: #aaa ; padding-left: 500px; transition: color .4s;text-decoration: none;   ">
                                            <a href="{{ path('avis_user', { 'id_ann': entity.idAnnonce , 'note': 1}) }}" title="One point"  onmouseover="this.style.color'#c0392b' ; this.style.cursor='pointer'; this.focus();" >☆</a>
                                            <a href="{{ path('avis_user', { 'id_ann': entity.idAnnonce , 'note': 2}) }}"   title="Two points" onmouseover="this.style.color'#c0392b' ; this.style.cursor='pointer';">☆</a>
                                            <a href="{{ path('avis_user', { 'id_ann': entity.idAnnonce , 'note': 3}) }}"   title="Three points" style=":hover,:focus{ color: #c0392b; cursor: pointer;}">☆</a>
                                            <a href="{{ path('avis_user', { 'id_ann': entity.idAnnonce , 'note': 4}) }}" title="Four points"  style=":hover,:focus{ color: #c0392b; cursor: pointer;}">☆</a>
                                            <a href="{{ path('avis_user', { 'id_ann': entity.idAnnonce , 'note': 5}) }}"   title="Five points" style=":hover,:focus{ color: #c0392b; cursor: pointer;}">☆</a>

                                        </article>
                                    {% endif %}            

                                </article><!-- end .ride-box -->
                            {% endfor %}






                        </div><!-- end .events-list -->

                    </div><!-- end .page-content -->

                </div><!-- end .col-md-12 col-sm-12 col-xs-12 -->













            </div><!-- end .row -->
        </div><!-- end .container -->

    </section><!-- end .main-content -->


    <footer id="footer">

        <div class="footer-copyright">

            <div class="container">
                <div class="row">

                    <div class="col-md-12 col-sm-12 col-xs-12">
                        Copyright by My ride
                    </div>

                </div><!-- end .row -->
            </div><!-- end .container -->

        </div><!-- end .footer-copyright -->

    </footer><!-- end #footer -->

   
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                {{ render(controller("FOSUserBundle:Security:login")) }}
              
        
            </div><!-- end .modal-content -->
        </div><!-- end .modal-dialog -->
    </div><!-- end .modal -->

    <div class="modal fade" id="regModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>

                <div class="modal-body">
              {{ render(controller("AcmeCovoiturageBundle:Utilisateur:new")) }} 
                </div><!-- end .modal-body -->

            </div><!-- end .modal-content -->
        </div><!-- end .modal-dialog -->
    </div><!-- end .modal -->
{% endblock %}
